(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[6],{87:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c(0),i=c.n(s),l=c(7),a=c(14),r=c(80),o=c.n(r),d=c(19);function j(e){var t,c,i=e.post,r=e.setcurrentid,j=(e.loading,Object(a.c)()),u=Object(a.d)((function(e){var t,c;return null===e||void 0===e||null===(t=e.loginreducer)||void 0===t||null===(c=t.logininfo)||void 0===c?void 0:c.res})),b=Object(s.useState)(null),O=Object(l.a)(b,2),m=O[0],v=O[1];Object(s.useEffect)((function(){v(i.selectedfile)}),[]);var h=Object(s.useState)(!1),f=Object(l.a)(h,2),g=f[0],x=f[1],p=Object(s.useState)(!1),N=Object(l.a)(p,2),k=N[0],C=N[1],F=function(e){var t=e.setislike;return Object(s.useEffect)((function(){var e=i.likecount.find((function(e){return e===((null===u||void 0===u?void 0:u.id)||(null===u||void 0===u?void 0:u.googleId))}));t(!!e)}),[]),i.likecount.length>0?i.likecount.find((function(e){return e===((null===u||void 0===u?void 0:u.id)||(null===u||void 0===u?void 0:u.googleId))}))?Object(n.jsxs)(n.Fragment,{children:[i.likecount.length>2?"You and ".concat(i.likecount.length-1," others"):"".concat(i.likecount.length,"  like")," "]}):Object(n.jsx)(n.Fragment,{children:i.likecount.length>1?" ".concat(i.likecount.length," likes "):"".concat(i.likecount.length,"  like")}):Object(n.jsx)(n.Fragment,{children:"Like"})};return Object(n.jsxs)(n.Fragment,{children:[k&&Object(n.jsx)("div",{className:"overlay",children:Object(n.jsxs)("div",{className:"Conformation-container",children:[Object(n.jsx)("div",{className:"Congif-Container",children:Object(n.jsx)("h4",{children:"Are You Sure ? "})}),Object(n.jsxs)("div",{className:"Config-Buttons",children:[Object(n.jsx)("button",{onClick:function(){return C(!1)},children:"Cancel"}),Object(n.jsx)("button",{onClick:function(){return j(Object(d.b)(i._id))},children:"Sure"})]})]})}),Object(n.jsxs)("div",{className:"upperhalf",children:[Object(n.jsxs)("div",{className:"absolute",children:[Object(n.jsxs)("div",{className:"Info",children:[Object(n.jsx)("h4",{children:i.name?i.name:"NONE"}),Object(n.jsx)("h6",{children:o()(i.createdAt).fromNow()})]}),Object(n.jsx)("div",{className:"edit",children:((null===u||void 0===u?void 0:u.id)||(null===u||void 0===u?void 0:u.googleId))===(null===i||void 0===i?void 0:i.creator)?Object(n.jsx)("button",{onClick:function(){r(i._id),j(d.f)},children:Object(n.jsx)("i",{class:"fa fa-cog","aria-hidden":"true"})}):Object(n.jsx)(n.Fragment,{})})]}),Object(n.jsxs)("div",{className:"imageclass",children:[" ",Object(n.jsx)("img",{src:m,alt:"image"})]})]}),Object(n.jsxs)("div",{className:"lowerhalf",children:[Object(n.jsx)("div",{className:"tags",children:0!=(null===(t=i.tags)||void 0===t?void 0:t.length)?null===(c=i.tags)||void 0===c?void 0:c.map((function(e,t){return Object(n.jsxs)("h6",{children:["#",e]},t)})):Object(n.jsx)("h6",{children:" # no tag"})}),Object(n.jsx)("div",{className:"VisitTitle",children:Object(n.jsxs)("h5",{children:[i.title," "]})}),Object(n.jsx)("div",{className:"Message",children:Object(n.jsx)("p",{children:i.message})}),Object(n.jsxs)("div",{className:"likes",children:[Object(n.jsxs)("div",{className:"like",children:[Object(n.jsx)("span",{onClick:function(){return j(Object(d.d)(i._id))},children:Object(n.jsx)("i",{class:g?"fa fa-heart":"fa fa-heart-o","aria-hidden":"true"})}),Object(n.jsx)("h6",{className:"animate_like",children:Object(n.jsx)(F,{setislike:x})})]}),((null===u||void 0===u?void 0:u.id)||(null===u||void 0===u?void 0:u.googleId))===(null===i||void 0===i?void 0:i.creator)?Object(n.jsx)("div",{className:"delete",children:Object(n.jsx)("h6",{onClick:function(){return C(!0)},children:"Delete"})}):Object(n.jsx)(n.Fragment,{})]})]})]})}var u=i.a.memo(j),b=c(30);var O=Object(a.b)((function(e){return{isloading:e.isloading,postlength:e.posts.length}}))((function(e){e.currentid;var t=e.setcurrentid,c=e.isloading,s=e.postlength,i=Object(a.d)((function(e){return e.posts}));return console.log(c),Object(n.jsx)(n.Fragment,{children:Object(n.jsxs)("div",{className:"SmallContainers",children:[null===i||void 0===i?void 0:i.map((function(e){return Object(n.jsx)("div",{className:"smallinside",children:Object(n.jsx)(u,{post:e,setcurrentid:t,loading:!0})},e._id)})),c&&Object(n.jsx)(b.a,{}),!c&&0===s&&Object(n.jsx)(b.a,{notfound:!0})]})})})),m=c(5),v=c(23),h=c(82),f=c.n(h);var g=Object(a.b)((function(e){return{postadd:e.postsuccess}}))((function(e){var t=e.currentid,c=e.setcurrentid,i=Object(s.useState)(!0),r=Object(l.a)(i,2),o=(r[0],r[1]),j=Object(a.c)(),u=Object(a.d)((function(e){return t?e.posts.find((function(e){return e._id===t})):null})),b=Object(a.d)((function(e){return e.postsucess}));console.log(b);var O=function(){c(null),k(g)},h=Object(a.d)((function(e){var t,c,n;return null===(t=e.loginreducer)||void 0===t||null===(c=t.logininfo)||void 0===c||null===(n=c.res)||void 0===n?void 0:n.name})),g={title:"",message:"",tags:"",selectedfile:"",selectedfilename:""};!0===b&&setTimeout((function(){o(!1)}),1e4);var x=Object(s.useState)(g),p=Object(l.a)(x,2),N=p[0],k=p[1];Object(s.useEffect)((function(){u&&k(u)}),[u]);var C=Object(s.useState)(!1),F=Object(l.a)(C,2),S=F[0],y=F[1],_=function(){y(!1)},E=function(){return Object(n.jsx)("div",{children:Object(n.jsxs)("h4",{children:[t?"Edit":"Create"," a Post"]})})};return Object(v.createPortal)(Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("h4",{onClick:function(){document.getElementById("rootportal").classList.remove("my-class")},children:"Click This Area to Dismiss"}),Object(n.jsx)("div",{className:"editable",children:Object(n.jsxs)("div",{className:"form",children:[Object(n.jsx)(E,{}),Object(n.jsxs)("form",{onSubmit:function(e){e.preventDefault(),t?N.title&&N.message&&N.tags&&N.selectedfile?(j(Object(d.g)(t,Object(m.a)(Object(m.a)({},N),{},{name:h}))),O()):y(!0):N.title&&N.message&&N.tags&&N.selectedfile?(j(Object(d.a)(Object(m.a)(Object(m.a)({},N),{},{name:h}))),O()):y(!0)},children:[Object(n.jsxs)("div",{className:"form-div",children:[Object(n.jsx)("label",{className:"form-label",children:"Title"}),Object(n.jsx)("input",{className:"form-input",placeholder:"Title",value:N.title,onFocus:_,onChange:function(e){k(Object(m.a)(Object(m.a)({},N),{},{title:e.target.value}))}})]}),Object(n.jsxs)("div",{className:"form-div",children:[Object(n.jsx)("label",{className:"form-label",children:"Message"}),Object(n.jsx)("textarea",{className:"form-input ",placeholder:"eg:something you like",value:N.message,onFocus:_,onChange:function(e){k(Object(m.a)(Object(m.a)({},N),{},{message:e.target.value}))}})]}),Object(n.jsxs)("div",{className:"form-div",children:[Object(n.jsx)("label",{className:"form-label",children:"Tags"}),Object(n.jsx)("input",{className:"form-input",placeholder:"eg:games,party",value:N.tags,onFocus:_,onChange:function(e){var t=e.target.value.split(",");k(Object(m.a)(Object(m.a)({},N),{},{tags:t}))}})]}),Object(n.jsx)("div",{className:"form-div",children:Object(n.jsx)(f.a,{type:"file",onFocus:_,multiple:!1,onDone:function(e){var t=e.base64;return k(Object(m.a)(Object(m.a)({},N),{},{selectedfile:t}))}})}),Object(n.jsxs)("div",{className:"form-div",children:[Object(n.jsx)("input",{type:"submit",className:"form_button",value:"Submit"}),Object(n.jsx)("input",{type:"button",className:"form_button clear",value:"Clear",onClick:O})]}),S&&Object(n.jsx)("div",{className:"form-div",id:"error",children:" Please Fill all the Fields"})]})]})})]}),document.getElementById("rootportal"))}));t.default=Object(a.b)((function(e){return{state:e}}))((function(e){var t=e.setcurrentid,c=e.currentid;return e.state,Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(O,{setcurrentid:t}),Object(n.jsx)(g,{currentid:c,setcurrentid:t})]})}))}}]);
//# sourceMappingURL=6.7985c613.chunk.js.map